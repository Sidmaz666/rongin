!function(r){function a(r,t){if(!(r=u(r)))return null;var n,e,o=1/0;t=t||a.DEFAULT_COLORS;for(var f=0;f<t.length;++f)n=t[f].rgb,(n=Math.pow(r.r-n.r,2)+Math.pow(r.g-n.g,2)+Math.pow(r.b-n.b,2))<o&&(o=n,e=t[f]);return e.name?{name:e.name,value:e.source,rgb:e.rgb,distance:Math.sqrt(o)}:e.source}function o(t){return t instanceof Array?t.map(function(r){return e(r)}):Object.keys(t).map(function(r){return e(t[r],r)})}function u(r){if("object"==typeof r)return r;if(r in a.STANDARD_COLORS)return u(a.STANDARD_COLORS[r]);var t=r.match(/^#?((?:[0-9a-f]{3}){1,2})$/i);if(t)return t=3===(t=t[1]).length?[t.charAt(0)+t.charAt(0),t.charAt(1)+t.charAt(1),t.charAt(2)+t.charAt(2)]:[t.substring(0,2),t.substring(2,4),t.substring(4,6)],{r:parseInt(t[0],16),g:parseInt(t[1],16),b:parseInt(t[2],16)};t=r.match(/^rgb\(\s*(\d{1,3}%?),\s*(\d{1,3}%?),\s*(\d{1,3}%?)\s*\)$/i);if(t)return{r:n(t[1]),g:n(t[2]),b:n(t[3])};throw Error('"'+r+'" is not a valid color')}function e(r,t){var n={};if(t&&(n.name=t),"string"==typeof r)n.source=r,n.rgb=u(r);else if("object"==typeof r){if(r.source)return e(r.source,r.name);n.rgb=r,n.source="#"+f((r=r).r.toString(16))+f(r.g.toString(16))+f(r.b.toString(16))}return n}function n(r){return"%"===r.charAt(r.length-1)?Math.round(255*parseInt(r,10)/100):Number(r)}function f(r){return r=1===r.length?"0"+r:r}a.from=function r(t){var n=o(t),e=a,t=function(r){return e(r,n)};return t.from=r,t.or=function(r){r=n.concat(o(r));return a.from(r)},t},a.STANDARD_COLORS={aqua:"#0ff",black:"#000",blue:"#00f",fuchsia:"#f0f",gray:"#808080",green:"#008000",lime:"#0f0",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",purple:"#800080",red:"#f00",silver:"#c0c0c0",teal:"#008080",white:"#fff",yellow:"#ff0"},a.DEFAULT_COLORS=o(["#f00","#f80","#ff0","#0f0","#00f","#008","#808"]),a.VERSION="0.4.4","object"==typeof module&&module&&module.exports?module.exports=a:r.nearestColor=a}(this);